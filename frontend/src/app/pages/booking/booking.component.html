<div *ngIf="product && scooter && option" class="page-container">
    <app-back-button></app-back-button>
    <h1 class="title">Scooter buchen</h1>
    <div class="scrollable-container">

      <div class="scooter-box">
          <img class="picture" src="http://localhost:8000/img/products/{{ product.name }}.jpg">
          <div class="scooter-details">
              <p class="scooter-name">{{ scooter.product_id }}</p>
              <div class="scooter-stats">
                  <div class="scooter-stats-row">
                      <div class="scooter-attribute">
                          <p>Batteriestand:</p>
                      </div>
                      <div class="values">
                          <p>{{ scooter.battery.toFixed(0) }}%</p>
                      </div>
                  </div>
                  <div class="scooter-stats-row">
                      <div class="scooter-attribute">
                          <p>Reichweite:</p>
                      </div>
                      <div class="values">
                          <p>{{ convertDistanceUnits(calcRange(product.max_reach, scooter.battery), this.selectedDistance) }}</p>
                      </div>
                  </div>
                  <div class="scooter-stats-row">
                      <div class="scooter-attribute">
                          <p>Geschwindigkeit:</p>
                      </div>
                      <div class="values">
                          <p>{{ convertSpeedUnits(product.max_speed, this.selectedSpeed) }}</p>
                      </div>
                  </div>
                  <div class="scooter-stats-row">
                      <div class="scooter-attribute">
                          <p>Preis pro Stunde:</p>
                      </div>
                      <div class="values">
                          <p>{{ convertCurrencyUnits(product.price_per_hour, this.selectedCurrency) }}</p>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  
      <div class="form-container">
        <form [formGroup]="checkoutForm" (ngSubmit)="onSubmit()">
          <label class="form-label">Für wie viele Stunden?</label>
  
          <app-user-input formControlName="duration"></app-user-input>
          <div *ngIf="durationErrors" class="error">{{ durationErrors }}</div>
  
          <div class="price">Gesamtpreis: XX €</div>
  
          <label class="form-label">Zahlungsmethoden</label>
  
          <ng-container *ngIf="paymentsStatus; else paymentEntries">
            <div class="status-message">{{paymentsStatus}}</div>
          </ng-container>
  
          <ng-template #paymentEntries>
            <div class="payment-method" *ngFor="let method of paymentMethods">
              <input type="radio" [value]="method.id" id="{{method.id}}" formControlName="radioButtonChoice" />
              <label for="{{method.id}}">
                <app-payment-method-card [paymentMethod]="method" [isDeletable]="false" [isChecked]="method.id === checkoutForm.controls['radioButtonChoice'].value"></app-payment-method-card>
              </label>
            </div>
          </ng-template>
          
          <div *ngIf="radioButtonErrors" class="error" style="margin-top:10px; text-align: center;">{{ radioButtonErrors }}</div>
  
          <div class="bottom">
            <app-button class="btn" type="submit" [disabled]="checkoutForm.invalid">
              Buchung bestätigen
            </app-button>
            <app-button color="accent" class="btn" (click)="onCancel()">
              Abbrechen
            </app-button>
          </div>
        </form>
      </div>

    </div>
</div>