<div class="map-container">
  <div class="map-header">
    <span class="switch-btn" (click)="toggleListView()">
      <span class="material-icons icon-outlined" style="cursor: pointer;">{{ view === "map" ? "view_kanban" : "map" }}</span>
    </span>
    <app-filter-button class="filter-btn" (filterToggle)="toggleFilterView()"></app-filter-button>
    <h1 class="title logo">SCOOTER</h1>

    <input
      type="text"
      *ngIf="view === 'list'"
      class="search-input"
      placeholder="Suchen"
      [(ngModel)]="searchTerm"
    />
  </div>
  <div *ngIf="filterMenuVisible" class="filter-menu-container">
    <div class="top">
      <app-button class="btn" type="submit" (click)="onSubmit()">
        Anwenden
      </app-button>
      <app-button color="accent" class="btn" (click)="onCancel()">
        Zur√ºcksetzten
      </app-button>
    </div>
    <div class="info">Format des Inputs: ?</div>
    <div class="filter-content">
      <h3 class="o-title">Filter Options</h3>
      <div class="form-container">
        <form [formGroup]="scooterFilterForm" (ngSubmit)="onSubmit()">
          <div class="filter-row">
            <app-user-input label="Mindestpreis" [(text)]="minPrice" formControlName="minPrice"></app-user-input>
            <app-user-input label="Maximalpreis" [(text)]="maxPrice" formControlName="maxPrice"></app-user-input>
          </div>
          <div class="filter-row">
            <app-user-input label="Mindestreichweite" [(text)]="minRange" formControlName="minRange"></app-user-input>
            <app-user-input label="Maximalreichweite" [(text)]="maxRange" formControlName="maxRange"></app-user-input>
          </div>
          <div class="filter-row">
            <app-user-input label="min. Batteriestand" [(text)]="minBty" formControlName="minBty"></app-user-input>
            <app-user-input label="max. Batteriestand" [(text)]="maxBty" formControlName="maxBty"></app-user-input>
          </div>
          <div class="filter-row">
            <app-user-input label="min. Speed" [(text)]="minSpeed" formControlName="minSpeed"></app-user-input>
            <app-user-input label="max. Speed" [(text)]="maxSpeed" formControlName="maxSpeed"></app-user-input>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Diese Komponente wird durch das "leaflet" Attribut mit der "Leaflet" Bibliothek initialisiert -->
  <!-- Bitte Dokumentation lesen: https://github.com/bluehalo/ngx-leaflet -->
  <div
    *ngIf="view === 'map'"
    class="map"
    leaflet
    [leafletOptions]="options"
    [leafletLayers]="layers"
    (leafletClick)="onMapClick($event)" 
  ></div>

  <!-- If the switch button is pressed, the scooterList page should be loaded. -->
  <app-scooter-list *ngIf="view === 'list'" [searchTerm]="searchTerm" scrollPosition="{{listScrollPosition}}"></app-scooter-list>
</div>